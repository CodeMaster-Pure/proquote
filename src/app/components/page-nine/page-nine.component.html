<div class="animated fadeIn">
    <div class="submit-header">
        <div class="row" style="justify-content: center !important;">
            <div class="col-md-10 form-row align-items-center justify-content-center" style="margin: 10px;" >
                <button type="button" mdbBtn block="true" color="success" class="shadow-none" (click)="next()">Submit</button>
            </div>
        </div>
    </div>

    <!--Personal Form-->
    <div class="row" [ngStyle]="(isMobile)?{}:{'margin-left':'10px'}">
        <form class="animated fadeIn personForm" [formGroup]="validatingForm">
            <div class="row mb-4">
                <div class="col-md-5 col-6">
                    <div class="form-row" >
                        <!-- Material input -->
                        <div class="col-sm-10 col-6">
                            <input type="email" class="form-control custom-form" id="form8" [(ngModel)]="total_data.email"
                                    formControlName="emailInput" [ngClass]="!total_data.email?'invalid-input':''" style="font-family: Myriad Pro Regular;" [ngStyle]="(isMobile)?{'padding-left':'0px'}:{'padding-left':'5px'}">
                            <mdb-error [ngStyle]="(isMobile)?{'margin-left':'5px','width':'100px'}:{'margin-left': '10px;'}" *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">Email type is
                                invalid
                            </mdb-error>
                            <mdb-success [ngStyle]="(isMobile)?{'margin-left':'5px !important;','width':'100px'}:{'margin-left': '10px !important;'}" *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)">Email type is valid
                            </mdb-success>
                        </div>
                    </div>
                </div>
                <div class="col-md-5 col-6">
                    <div class="form-row">

                        <div class="col-sm-10 col-5">
                            <input mdbInput type="text" mdbValidate name="phone" formControlName="phoneInput" class="form-control custom-form"
                                    id="form1" [(ngModel)]="total_data.phone" [ngClass]="!total_data.phone?'invalid-input':''" style="font-family: Myriad Pro Regular; padding: 0px;">
                            <mdb-error *ngIf="phoneInput.invalid && (phoneInput.dirty || phoneInput.touched)" [ngStyle]="(isMobile)?{'margin-left':'5px','width':'150px'}:{'margin-left': '5px;'}">Phone number is
                                required.
                            </mdb-error>
                            <mdb-success [ngStyle]="(isMobile)?{'margin-left':'5px','width':'150px'}:{'margin-left': '10px;'}" *ngIf="phoneInput.valid && (phoneInput.dirty || phoneInput.touched)" style="margin-left: 10px;">Phone number is
                                valid
                            </mdb-success>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row animated fadeIn" style="margin-bottom: 15px;" *ngFor="let item of total_data.personData; index as i">
                <div class="col-md-2" *ngIf="total_data.personData.length>1 && commonService.checkMobile()">
                    <div class="md-form mt-0">
                        <button type="button" class="close" aria-label="Close"
                                style="margin-top: 10px; font-size: 20pt !important;"
                                (click)="deletePerson(i)">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                </div>
                <div class="col-md-5 col-6">
                    <div class="form-row">
                        <div class="col-sm-5 col-5">
                            <input mdbInput type="text" mdbValidate class="form-control" [formControlName]="'firstnameInput'+i"
                                    [(ngModel)]="item['first_name']" placeholder="first name"
                                    [ngClass]="!item['first_name']?'invalid-input':''" style="border: none; font-family: Myriad Pro Regular; padding-left: 5px;" [ngStyle]="(isMobile)?{'padding-left':'0px !important;'}:{'padding-left':'5px !important;'}" >
                        </div>
                        <div class="col-sm-5 col-5" [ngClass]="commonService.checkMobile()?'mb-2':''">
                            <input mdbInput type="text" mdbValidate class="form-control" [formControlName]="'lastnameInput'+i"
                                    [(ngModel)]="item['last_name']" placeholder="last name"
                                    [ngClass]="!item['last_name']?'invalid-input':''" style="border: none; font-family: Myriad Pro Regular;" [ngStyle]="(isMobile)?{'padding-left':'0px !important;'}:{'padding-left':'5px !important;'}">
                        </div>
                    </div>
                </div>
                <div class="col-md-5 col-6">
                    <div class="form-row" [ngStyle]="(isMobile)?{}:{}">

                        <div class="col-12" [ngClass]="addLicense?'col-sm-4':'col-sm-10'" onclick="this.children[0].focus()">
                            <div class="input-group">
                                <input class="form-control" placeholder="mm-dd-yyyy"
                                    name="dp" [(ngModel)]="item['birthday']" [formControlName]="'birthdayInput'+i" ngbDatepicker #d="ngbDatepicker" style="font-family: Myriad Pro Regular; border: none; padding-left: 0px; height: 39px;" [ngClass]="!item['birthday']?'invalid-input':''">
                                <div class="input-group-append" style="padding-bottom: 8px;">
                                    <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button" style="margin: 0px;
                                    padding: 10px;
                                    height: 39px !important;
                                    border: none !important;
                                    box-shadow: none;"><i style="color: gray;" class="far fa-calendar-alt"></i></button>
                                </div>
                            </div>
                                    
                        </div>
                        <div class="col-sm-4 col-12">
                            <input mdbInput type="text" mdbValidate class="form-control custom-form" *ngIf="addLicense"
                                    [formControlName]="'licenseInput'+i"
                                    [(ngModel)]="item['license']" placeholder="driver license"
                                    [ngClass]="!item['license']?'invalid-input':''">
                        </div>
                    </div>
                </div>
                <div class="col-md-2" *ngIf="total_data.personData.length>1 && !commonService.checkMobile()">
                    <div class="md-form mt-0">
                        <button type="button" class="close" aria-label="Close"
                                style="margin-top: 10px; font-size: 20pt !important;"
                                (click)="deletePerson(i)">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                </div>
            </div>
        </form>

    </div>

    <!--Address Form-->
    <div class="row">
        <div class="col-md-8 col-12" [ngStyle]="isMobile?{'padding':'0px','z-index': '-1'}:{'margin-left':'15px', 'z-index': '-1'}">
            <input class="form-control" autocorrect="off" (onAddressChange)="handleAddressChange($event)"
                   autocapitalize="off" spellcheck="off" (load)="loadGooglePlace()" type="text"
                   [(ngModel)]="total_data.address_data.formatted_address" #placesRef id="addressInput"
                   [ngClass]="!total_data.address_data.formatted_address?'invalid-input':''" style="font-family: Myriad Pro Regular;">
        </div>
    </div>
    <div [ngStyle]="(isMobile)?{}:{'padding-left':'30px'}">
        <div class="row" style="margin-top: 10px;">
            <label for="startdateinput" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 9px;">Start Date:</label>
            <div onclick="this.children[0].focus()">
                <!-- <input type="date" class="form-control custom-form" id="startdateinput" placeholder="StartDate" style="height: 35px !important;" [(ngModel)]="total_data.discountsData.startdate"> -->
                <div class="input-group">
                    <input class="form-control" placeholder="mm-dd-yyyy"
                       name="dp" [(ngModel)]="total_data.discountsData.startdate" ngbDatepicker #d="ngbDatepicker" style="color: #808080;border: none;">
                    <div class="input-group-append" style="padding-bottom: 8px;">
                        <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button" style="margin: 0px;
                        padding: 7px;
                        /* border-color: #9f9f9f !important; */
                        height: 39px !important;
                        color: #808080;
                        font-size: 15px;
                        border: none !important;
                        box-shadow: none;"><i style="color: gray;" class="far fa-calendar-alt"></i></button>
                    </div>
                </div>
            </div>
        </div>

        <!--Discount Form-->
        <div class="row" style="margin-top: 10px;">
            <div>
                <p style="font-family: Myriad Pro Regular;">Discounts:</p>
            </div>
            <div>
                <div class="row" style="margin-left:10px;">
                    <div class="" *ngIf="total_data.discountsData.alarm" style="font-family: Myriad Pro Regular;">
                        Alarm,
                    </div>
                    <div class="" *ngIf="total_data.discountsData.bundle" style="font-family: Myriad Pro Regular;">
                        Bundle,
                    </div>
                    <div class="" *ngIf="total_data.discountsData.new_roof" style="font-family: Myriad Pro Regular;">
                        New Roof,
                    </div>
                    <div class="  " *ngIf="total_data.discountsData.life_insurance" style="font-family: Myriad Pro Regular;">
                        Life Bundle,
                    </div>
                    <div class="  " *ngIf="total_data.discountsData.good_credit" style="font-family: Myriad Pro Regular;">
                        Good Credit
                    </div>
                </div>
            </div>
        </div>


        <div class="row"  >
            <label for="doginput" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 7px;">Dog:</label>
            <div>
                <select [(ngModel)]="total_data.discountsData.dog" class="form-control custom-select" id="doginput" [ngClass]="(!total_data.discountsData.dog && total_data.discountsData.dog!==false) ?'invalid-input':''">
                    <option value="true">YES</option>
                    <option value="false">NO</option>
                </select>
            </div>
        </div>

        <div class="row" >
            <label for="basementinputbasement" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 8px;">Basement:</label>
            <div>
                <select [(ngModel)]="total_data.discountsData.claim_free" class="form-control custom-select" id="basementinputbasement" [ngClass]="(!total_data.discountsData.claim_free && total_data.discountsData.claim_free!==false)?'invalid-input':''">
                    <option value="true">YES</option>
                    <option value="false">NO</option>
                </select>
            </div>
        </div>

        <div class="row" >
            <label for="poolinput" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 9px;">Pool:</label>
            <div>
                <select [(ngModel)]="total_data.discountsData.claim_free" class="form-control custom-select" id="poolinput" [ngClass]="(!total_data.discountsData.claim_free && total_data.discountsData.claim_free!==false)?'invalid-input':''">
                    <option value="true">YES</option>
                    <option value="false">NO</option>
                </select>
            </div>
        </div>

        <div class="row" >
            <label for="inputInsureProperty" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 7px;">Current:</label>
            <div>
                <select mdbInput class="form-control custom-select" id="inputInsureProperty" [(ngModel)]="total_data.carrier_type" [ngClass]="!total_data.carrier_type?'invalid-input':''">
                    <option *ngFor="let carrier of carriers;" [value]="carrier.value">{{carrier.text}}</option>
                </select>
            </div>
        </div>

        <!--Cars Form-->
        <div class="row">
            <!-- <div class="row animated fadeIn"> -->
                <div class="row m-0" *ngFor="let item of total_data.carData; index as i">
                    <!-- <div>
                        <p style="font-family: Myriad Pro Regular; margin-bottom: 0px;">Car Info:</p>
                    </div> -->
                    
                    <!-- <div class="form-group"> -->
                        <div class="col-md-4 col-4" style="padding-left: 0px;">
                            <select style="padding-left: 0px;" class="browser-default custom-select CarYearInput" [(ngModel)]="total_data.carData[i]['year']"
                                    [ngClass]="!total_data.carData[i]['year']?'invalid-input':''">
                                <option>Select</option>
                                <option *ngFor="let item of CarYearData; index as i" [value]="item.year">{{item.year}}</option>
                            </select>
                        </div>
                        <div class="col-md-4 col-4">
                            <select class="browser-default custom-select CarTypeInput" [(ngModel)]="total_data.carData[i]['type']"
                                    [ngClass]="!total_data.carData[i]['type']?'invalid-input':''">
                                <option>Select</option>
                                <option *ngFor="let item of CarTypeData; index as i" [value]="item">{{item}}</option>
                            </select>
                        </div>
                        <div class="col-md-4 col-4">
                            <input mdbInput type="text" class="form-control" placeholder="Model" style="border: none !important;"
                                    [(ngModel)]="total_data.carData[i]['model']" [ngModelOptions]="{standalone: true}"
                                    [ngClass]="!total_data.carData[i]['model']?'invalid-input':''">
                        </div>
                    <!-- </div> -->
                </div>
    <!--                <div class="col-md-4" *ngIf="total_data.carData.length<4">-->
    <!--                    <div class="md-outline md-form add-car-containter">-->
    <!--                        <div class="form-row addCar align-items-center justify-content-center" (click)="addCar()">-->
    <!--                            <div class="col justify-content-center align-items-center ">-->
    <!--                                <div class="text-center">-->
    <!--                                    <mdb-icon fas icon="plus" size="3x" class=""></mdb-icon>-->
    <!--                                </div>-->
    <!--                                <div class="text-center">Add Car</div>-->
    <!--                            </div>-->
    <!--                        </div>-->
    <!--                    </div>-->
    <!--                </div>-->
            <!-- </div> -->

        </div>

        <div class="row" >
            <label for="life-input" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 9px;">Life:</label>
            <div>
                <input type="email" id="life-input" class="form-control custom-form" [(ngModel)]="total_data.questionData.life">
            </div>
        </div>

        <div class="row" >
            <label for="jewelry-input" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 9px;">Jewelry:</label>
            <div>
                <input type="email" id="jewelry-input" class="form-control custom-form" [(ngModel)]="total_data.questionData.jewelry" >
            </div>
        </div>

        <div class="row" >
            <label for="umbrella-input" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 9px;">Umbrella:</label>
            <div>
                <input type="email" id="umbrella-input" class="form-control custom-form" [(ngModel)]="total_data.questionData.umbrella" >
            </div>
        </div>

        <div class="row" >
            <label for="flood-input" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 9px;">Flood:</label>
            <div>
                <input type="email" id="flood-input" class="form-control custom-form" [(ngModel)]="floodData['application']['floodZone']" >
            </div>
        </div>

        <div class="row" >
            <label for="other-input" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 9px;">Other:</label>
            <div>
                <input type="email" id="other-input" class="form-control custom-form"  [(ngModel)]="total_data.questionData.ohter" >
            </div>
        </div>

        <div class="row" >
            <label for="noteinput" class="col-form-label text-center" style="font-family: Myriad Pro Regular; padding-top: 9px;">Notes:</label>
            <div>
                <input type="email" id="noteinput" class="form-control custom-form" style="width: 80%;" [(ngModel)]="total_data.questionData.note" >
            </div>
        </div>
    </div>


    <!-- <div class="col-md-12 row property mt-5">
        <div class="col-md-12 form-row align-items-center justify-content-center p-5">
            <button type="button" mdbBtn color="success" mdbWavesEffect (click)="next()" class="shadow-none">Submit</button>
        </div>
    </div> -->
</div>

